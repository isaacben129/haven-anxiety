<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Haven Questionnaire</title>

    <!-- Base CSS (your siteâ€™s existing stylesheet) -->
    <link rel="stylesheet" href="css/purged.css" type="text/css" />

    <!-- Questionnaire-specific CSS -->
    <link rel="stylesheet" href="css/quote.css" type="text/css" />

    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollToPlugin.min.js"></script>
  </head>
  <body>
    <section class="question-hero">
      <div
        data-animation="default"
        data-collapse="small"
        data-duration="400"
        data-easing="ease"
        data-easing2="ease"
        role="banner"
        class="navbar w-nav"
      >
        <div class="div-block-3">
          <div class="div-block-2">
            <a href="#" class="brand w-nav-brand">
              <img src="images/logo.svg" loading="lazy" alt="" />
            </a>
          </div>
          <nav role="navigation" class="nav-menu w-nav-menu">
            <a href="index.html" class="text w-nav-link">Home</a>
            <a
              href="docs/haven whitepaper oct 2025.pdf"
              target="_blank"
              class="text w-nav-link"
              >Whitepaper</a
            >
            <div class="w-layout-vflex">
              <a
                href="/questions.html"
                class="button-primary small outline w-button"
                >Join now</a
              >
            </div>
          </nav>
          <div class="menu-button w-nav-button">
            <div class="w-icon-nav-menu"></div>
          </div>
        </div>
      </div>
      <div class="quote-wrapper">
        <div class="quote-container">
          <form
            id="havenForm"
            name="haven-questionnaire"
            method="POST"
            data-netlify="true"
            netlify-honeypot="bot-field"
            class="quote-form"
          >
            <input type="hidden" name="form-name" value="haven-questionnaire" />
            <p class="honeypot-field">
              <label>
                Donâ€™t fill this out if youâ€™re human: <input name="bot-field" />
              </label>
            </p>

            <div class="form-group">
              <h2 class="form_h2">
                ðŸ‘‹ Havenâ€™s still being built, and your thoughts can shape it.
              </h2>
              <label class="form_h2">Which of these best describes you?</label>
              <div
                style="
                  display: flex;
                  flex-wrap: wrap;
                  gap: 0.5rem;
                  padding-top: 24px;
                "
              >
                <label class="label_button"
                  ><input type="radio" name="identity" value="Student" />
                  Student</label
                >
                <label class="label_button"
                  ><input type="radio" name="identity" value="Working" />
                  Working</label
                >
                <label class="label_button"
                  ><input type="radio" name="identity" value="Parent" />
                  Parent</label
                >
                <label class="label_button"
                  ><input type="radio" name="identity" value="Other" />
                  Other</label
                >
              </div>
            </div>

            <div class="form-group">
              <label for="q2" class="form_h2"
                >Whatâ€™s one challenge or feeling that really drags you
                down?</label
              >
              <div class="options-list">
                <label class="label_button"
                  ><input type="checkbox" name="q2[]" value="Stress" />
                  Stress</label
                >
                <label class="label_button"
                  ><input type="checkbox" name="q2[]" value="Anxiety" />
                  Anxiety</label
                >
                <label class="label_button"
                  ><input type="checkbox" name="q2[]" value="Loneliness" />
                  Loneliness</label
                >
                <label class="label_button"
                  ><input type="checkbox" name="q2[]" value="Overthinking" />
                  Overthinking</label
                >
                <label class="label_button"
                  ><input type="checkbox" name="q2[]" value="Procrastination" />
                  Procrastination</label
                >
                <label class="label_button"
                  ><input type="checkbox" name="q2[]" value="Burnout" />
                  Burnout</label
                >
                <label class="label_button"
                  ><input
                    type="checkbox"
                    name="q2[]"
                    value="Other"
                    class="other-checkbox"
                  />
                  Other</label
                >
              </div>

              <!-- Hidden text input for "Other" -->
              <input
                type="text"
                id="q2-other"
                name="q2-other"
                placeholder="Type your own answer..."
                style="
                  display: none;
                  margin-top: 0.75rem;
                  flex: 1;
                  padding: 1rem 2rem;
                  border: 1px solid #ddd;
                  border-radius: 0.5rem;
                  font-size: 1rem;
                  width: 100%;
                "
                class=""
              />
            </div>

            <div class="form-group">
              <label class="form_h2"
                >How much does this affect your daily life?</label
              >
              <div
                style="
                  display: flex;
                  flex-wrap: wrap;
                  gap: 0.5rem;
                  padding-top: 24px;
                "
              >
                <label class="label_button"
                  ><input type="radio" name="impact" value="A little" /> A
                  little</label
                >
                <label class="label_button"
                  ><input type="radio" name="impact" value="Somewhat" />
                  Somewhat</label
                >
                <label class="label_button"
                  ><input type="radio" name="impact" value="A lot" /> A
                  lot</label
                >
                <label class="label_button"
                  ><input type="radio" name="impact" value="Every day" /> Every
                  day</label
                >
              </div>
            </div>

            <div class="form-group">
              <label class="form_h2"
                >Have you already tried apps, therapy, or self-help to
                cope?</label
              >
              <div
                style="
                  display: flex;
                  flex-wrap: wrap;
                  gap: 0.5rem;
                  padding-top: 24px;
                "
              >
                <label class="label_button"
                  ><input type="radio" name="tried" value="Yes" /> Yes</label
                >
                <label class="label_button"
                  ><input type="radio" name="tried" value="No" /> No</label
                >
              </div>
            </div>

            <div class="form-group">
              <label class="form_h2"
                >If you could design perfect support, what would it
                include?</label
              >
              <textarea
                name="idealSupport"
                class="form-textarea"
                placeholder="Your dream support..."
              ></textarea>
            </div>
            <div class="form-group">
              <label for="name-email" class="form_h2">Your Details</label>
              <div class="input-row">
                <input
                  type="text"
                  id="name"
                  name="name"
                  placeholder="Name"
                  required
                />
                <input
                  type="email"
                  id="email"
                  name="email"
                  placeholder="Email"
                  required
                />
              </div>
            </div>

            <div class="form-group">
              <h2 class="form_h2">
                ðŸ’™ Thanks for sharing â€” youâ€™re helping us build Haven for you.
              </h2>
              <button type="submit" class="submit-button">Submit</button>
            </div>
          </form>
        </div>
      </div>
    </section>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const checkboxes = document.querySelectorAll('input[name="q2[]"]');
        const otherCheckbox = document.querySelector(".other-checkbox");
        const otherInput = document.getElementById("q2-other");

        checkboxes.forEach((cb) => {
          cb.addEventListener("change", () => {
            if (otherCheckbox.checked) {
              // Show textbox if "Other" is selected
              otherInput.style.display = "block";
              otherInput.focus();
            } else {
              // Hide textbox if "Other" is unselected
              otherInput.style.display = "none";
              otherInput.value = "";
            }

            // If "Other" was checked but now another option is selected, hide "Other"
            if (cb !== otherCheckbox && cb.checked && otherCheckbox.checked) {
              otherCheckbox.checked = false;
              otherInput.style.display = "none";
              otherInput.value = "";
            }
          });
        });
      });
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const groups = Array.from(
          document.querySelectorAll("#havenForm .form-group")
        );

        groups.forEach((group, index) => {
          if (index !== 0) {
            gsap.set(group, { autoAlpha: 0.2 });
          }
        });

        let currentIndex = 0;

        const showNext = () => {
          const next = groups[currentIndex + 1];
          if (!next) return;
          gsap.to(next, { autoAlpha: 1, duration: 0.6, ease: "power2.out" });
          gsap.to(window, {
            scrollTo: { y: next, offsetY: 100 },
            duration: 1.2,
            ease: "power2.out",
          });
          currentIndex++;
        };

        groups.forEach((group, index) => {
          const inputs = group.querySelectorAll("input, textarea");
          inputs.forEach((input) => {
            input.addEventListener("change", () => {
              if (index === currentIndex) {
                showNext();
              }
            });
            input.addEventListener("blur", () => {
              if (index === currentIndex && input.value.trim() !== "") {
                showNext();
              }
            });
          });
        });
      });
    </script>
  </body>
</html>
